<!DOCTYPE html>
<!-- lang属性は index.js で設定される想定 -->
<html>

<head>
    <title data-i18n="eat-kano">EatKano</title> <!-- 初期表示用、JSで上書き -->
    <meta itemprop="name" content="吃掉小鹿乃" /> <!-- 中国語圏向けか -->
    <meta itemprop="description" content="新概念音游" />
    <meta charset="utf-8" />
    <meta name="viewport"
        content="initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, width=device-width,target-densitydpi=device-dpi" />

    <!-- CSS -->
    <link href="./static/index.css" rel="stylesheet" type="text/css">
    <link href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/twitter-bootstrap/5.1.1/css/bootstrap.min.css"
        rel="stylesheet">

    <!-- JavaScript Libraries -->
    <script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
    <!-- <script src="https://passport.cnblogs.com/scripts/jsencrypt.min.js"></script> --> <!-- おそらく不要なのでコメントアウト -->
    <script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js"></script>
    <script
        src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/twitter-bootstrap/5.1.1/js/bootstrap.bundle.min.js"></script>

    <!-- Supabase JS SDK (重要) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

</head>

<body onLoad="init()" oncontextmenu="event.returnValue=false;"> <!-- self. は不要なことが多い -->

    <!-- Game Score Layer -->
    <div id="GameScoreLayer" class="BBOX SHADE bgc1" style="display:none;">
        <div class="p-3" style="margin-top: 15vh; background-color: rgba(40, 40, 60, 0.85); border-radius: 10px;">
            <div id="GameScoreLayer-text" class="mb-3" style="font-size: 1.2em;"></div>
            <div id="GameScoreLayer-CPS" class="mb-2 d-flex flex-row justify-content-center text-start align-items-center">
                <div class="col-auto pe-2" style="font-weight: bold;">CPS:</div>
                <div class="col-auto" id="cps" style="font-weight: bold;"></div>
            </div>
            <div id="GameScoreLayer-score" class="mb-2 d-flex flex-row justify-content-center text-start align-items-center">
                <div class="col-auto pe-2" data-i18n="score" style="font-weight: bold;">SCORE-I18N:</div>
                <div class="col-auto" id="score" style="font-weight: bold;"></div>
            </div>
            <div id="GameScoreLayer-bast" class="mb-3 d-flex flex-row justify-content-center text-start align-items-center">
                <div class="col-auto pe-2" data-i18n="best" style="font-weight: bold;">BEST-I18N:</div>
                <div class="col-auto" id="best" style="font-weight: bold;"></div>
            </div>
            <div class="d-grid gap-2">
                <button type="button" class="btn btn-primary btn-lg" id="replay" onclick="replayBtn()"
                    data-i18n="again">AGAIN-I18N</button>
                <button type="button" class="btn btn-info btn-lg" onclick="window.location.reload()"
                    data-i18n="home">HOME-I18N</button>
                <button type="button" class="btn btn-outline-light btn-lg"
                    onclick="window.open('https://github.com/arcxingye/EatKano', '_blank')" data-i18n="repo">REPO-I18N</button>
            </div>
        </div>
    </div>

    <!-- Welcome Layer -->
    <div id="welcome" class="SHADE BOX-M">
        <div class="welcome-bg FILL"></div> <!-- 背景画像用 -->
        <div class="FILL BOX-M d-flex align-items-center justify-content-center" style="z-index:5;"> <!-- Flexboxで中央揃え -->
            <div class="container text-center" style="max-width: 500px;"> <!-- コンテンツ幅制限 -->
                <div class="mb-5">
                    <div style="font-size:3em; color:#FEF002; font-weight: bold; text-shadow: 2px 2px 4px #000;" data-i18n="game-title">
                        GAME-TITLE-I18N</div><br />
                    <div id="desc" style="font-size:1.8em; color:#fff; line-height:1.5em; text-shadow: 1px 1px 2px #000;">
                        <span data-i18n="game-intro1">GAME-INTRO1-I18N</span><br />
                        <span data-i18n="game-intro2">GAME-INTRO2-I18N</span><br />
                    </div>
                </div>

                <div id="btn_group" class="d-grid gap-3 mx-auto" style="max-width: 280px;">
                    <a class="btn btn-primary btn-lg" onclick="readyBtn()" data-i18n="start">START-I18N</a>
                    <div class="dropdown">
                        <a class="w-100 btn btn-secondary btn-lg dropdown-toggle" href="javascript:void(0);" role="button"
                            id="mode" data-bs-toggle="dropdown" aria-expanded="false"
                            data-i18n="normal">NORMAL-I18N</a>
                        <ul class="dropdown-menu w-100" aria-labelledby="mode">
                            <li><a class="dropdown-item" href="javascript:void(0);" onclick="changeMode(MODE_NORMAL)"
                                    data-i18n="normal">NORMAL-I18N</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);" onclick="changeMode(MODE_ENDLESS)"
                                    data-i18n="endless">ENDLESS-I18N</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);" onclick="changeMode(MODE_PRACTICE)"
                                    data-i18n="practice">PRACTICE-I18N</a></li>
                        </ul>
                    </div>
                    <!-- ランキングページへのリンクを追加 -->
                    <a href="./leaderboard.html" class="btn btn-success btn-lg" data-i18n="rank">RANKING-I18N</a>
                    <a class="btn btn-info btn-lg" onclick="show_setting()" data-i18n="settings">SETTINGS-I18N</a>
                </div>

                <div id="setting" class="mt-4 p-3" style="display: none; background-color: rgba(0,0,0,0.7); border-radius: 8px; color: white;">
                    <div class="btn-group w-100 mb-3" role="group">
                        <a data-i18n="img-before" type="button" class="btn btn-outline-light flex-fill me-1"
                            onclick="getClickBeforeImage()">IMG-BEFORE-I18N</a>
                        <input type="file" id="click-before-image" accept="image/*" class="d-none"
                            onchange="saveClickBeforeImage()">
                        <a data-i18n="img-after" type="button" class="btn btn-outline-light flex-fill"
                            onclick="getClickAfterImage()">IMG-AFTER-I18N</a>
                        <input type="file" id="click-after-image" accept="image/*" class="d-none"
                            onchange="saveClickAfterImage()">
                    </div>
                    <div class="text-center mb-3">
                         <a id="sound" type="button" class="btn btn-outline-light w-50" onclick="changeSoundMode()">SOUND-ON/OFF-I18N</a>
                    </div>

                    <div class="input-group mb-3">
                        <span class="input-group-text col-md-3 col-4" data-i18n="name">NAME-I18N</span>
                        <input data-placeholder-i18n="player-name" type="text" id="username" class="form-control" placeholder="PLAYER-NAME-I18N">
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text col-md-3 col-4" data-i18n="comment">COMMENT-I18N</span>
                        <input data-placeholder-i18n="comment-text" type="text" id="message" class="form-control" placeholder="COMMENT-I18N">
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text col-md-3 col-4" data-i18n="title">TITLE-I18N</span>
                        <input data-placeholder-i18n="eat-kano" type="text" id="title" class="form-control"
                            placeholder="EAT-KANO-I18N">
                    </div>
                    <div class="input-group mb-3">
                        <span data-i18n="key" class="input-group-text col-md-3 col-4">KEY-I18N</span>
                        <input data-placeholder-i18n="default-dfjk" type="text" id="keyboard" class="form-control"
                            maxlength=4 placeholder="DFJK-I18N">
                    </div>
                    <div class="input-group mb-3">
                        <span data-i18n="time" class="input-group-text col-md-3 col-4">TIME-I18N</span>
                        <input data-placeholder-i18n="default-20s" type="number" id="gameTime" class="form-control"
                            maxlength=4 placeholder="20"> <!-- type="number" に変更 -->
                    </div>
                    <div class="d-grid">
                        <button type="button" class="btn btn-primary btn-lg" onclick="show_btn();save_cookie();"
                            data-i18n="ok">OK-I18N</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="./static/index.js"></script> <!-- index.js は最後に読み込むのが一般的 -->
</body>

</html>
